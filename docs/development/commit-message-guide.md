# 📝 커밋 메시지 가이드

> 일관되고 의미 있는 커밋 메시지를 작성하기 위한 가이드입니다.

## 🎯 왜 중요한가요?

좋은 커밋 메시지는:
- 📖 코드 변경 이력을 쉽게 파악할 수 있게 합니다
- 🔍 특정 변경사항을 빠르게 찾을 수 있게 합니다
- 🐛 버그의 원인을 추적하기 쉽게 합니다
- 👥 팀원들과의 소통을 원활하게 합니다

## 📐 커밋 메시지 구조

```
<타입>: <제목>

[본문]

[꼬리말]
```

### 예시
```
feat: 사용자 프로필 이미지 업로드 기능 추가

- AWS S3 연동하여 이미지 저장
- 이미지 리사이징 기능 구현 (최대 1MB)
- 지원 형식: JPG, PNG, WEBP

Closes #123
```

## 🏷️ 커밋 타입

| 타입 | 이모지 | 설명 | 예시 |
|------|--------|------|------|
| `feat` | ✨ | 새로운 기능 추가 | `feat: 소셜 로그인 기능 추가` |
| `fix` | 🐛 | 버그 수정 | `fix: 로그인 시 토큰 만료 오류 수정` |
| `docs` | 📝 | 문서 수정 | `docs: API 사용법 업데이트` |
| `style` | 💄 | 코드 포맷팅, 세미콜론 누락 등 | `style: ESLint 규칙에 맞게 코드 정리` |
| `refactor` | ♻️ | 코드 리팩토링 | `refactor: 사용자 서비스 로직 개선` |
| `test` | 🧪 | 테스트 코드 | `test: 회원가입 API 테스트 추가` |
| `chore` | 🔧 | 빌드, 패키지 매니저 등 | `chore: webpack 설정 업데이트` |
| `perf` | ⚡ | 성능 개선 | `perf: 이미지 로딩 속도 개선` |
| `ci` | 👷 | CI 설정 변경 | `ci: GitHub Actions 워크플로우 추가` |
| `build` | 🏗️ | 빌드 시스템 변경 | `build: 빌드 스크립트 최적화` |
| `revert` | ⏪ | 커밋 되돌리기 | `revert: "feat: 로그인 기능" 되돌리기` |

## ✍️ 커밋 메시지 작성 규칙

### 1. 제목 (필수)

- **50자 이내**로 작성
- **명령문**으로 작성 (추가, 수정, 삭제 등)
- 마침표(.) 사용하지 않음
- 첫 글자는 타입 다음에 오는 한글

#### ✅ 좋은 예시
```
feat: 사용자 알림 설정 기능 추가
fix: 결제 프로세스 중 가격 계산 오류 수정
docs: README에 설치 방법 추가
```

#### ❌ 나쁜 예시
```
feat: 사용자 알림 설정 기능을 추가했습니다.  // 과거형 + 마침표
fix: 버그 수정  // 너무 모호함
docs: 문서 업데이트  // 구체적이지 않음
```

### 2. 본문 (선택)

- **72자**마다 줄바꿈
- **무엇을, 왜** 변경했는지 설명
- 어떻게 변경했는지는 코드가 설명하므로 생략
- 제목과 본문 사이에 **빈 줄** 필수

#### 예시
```
feat: 비밀번호 재설정 이메일 발송 기능 구현

기존에는 비밀번호를 잊어버린 경우 관리자에게 문의해야 했으나,
이제 사용자가 직접 이메일을 통해 비밀번호를 재설정할 수 있습니다.

- 이메일 템플릿 추가
- 토큰 유효시간 30분 설정
- 재설정 완료 후 기존 토큰 무효화
```

### 3. 꼬리말 (선택)

- 이슈 트래커 ID 참조
- `Closes`, `Fixes`, `Resolves` 등 사용
- 여러 이슈는 쉼표로 구분

#### 예시
```
Closes #123
Fixes #456, #789
See also #111, #222
```

## 💡 상황별 커밋 메시지 예시

### 기능 추가
```
feat: 댓글 대댓글 기능 구현

- 댓글에 답글을 달 수 있는 기능 추가
- 최대 depth는 2로 제한
- 대댓글 알림 기능 포함
```

### 버그 수정
```
fix: iOS Safari에서 날짜 선택기 오류 수정

iOS Safari는 datetime-local input을 지원하지 않아
날짜 선택이 불가능한 문제가 있었음.
별도의 date picker 라이브러리로 대체하여 해결.

Fixes #234
```

### 긴급 수정
```
hotfix: 결제 금액 0원 처리 오류 긴급 수정

쿠폰 적용 시 결제 금액이 0원이 되는 경우
결제 프로세스가 중단되는 치명적 오류 수정
```

### 리팩토링
```
refactor: 중복된 유효성 검사 로직 통합

회원가입, 프로필 수정, 비밀번호 변경에서
각각 구현되어 있던 이메일/비밀번호 검증 로직을
공통 유틸리티 함수로 통합
```

### 문서화
```
docs: API 응답 형식 문서화

- 성공/실패 응답 형식 통일
- 에러 코드 목록 추가
- 예시 요청/응답 추가
```

### 테스트
```
test: 장바구니 기능 통합 테스트 추가

- 상품 추가/삭제 시나리오
- 수량 변경 시나리오
- 품절 상품 처리 시나리오
```

### 스타일
```
style: Prettier 설정 적용 및 코드 포맷팅

- 들여쓰기 2 spaces로 통일
- 세미콜론 필수 사용
- 작은따옴표 사용
```

## 🚫 피해야 할 것들

### 1. 여러 작업을 한 커밋에 포함
```
# ❌ 나쁜 예
feat: 로그인 기능 추가, 회원가입 버그 수정, README 업데이트

# ✅ 좋은 예 - 각각 분리
feat: 로그인 기능 추가
fix: 회원가입 시 이메일 중복 체크 오류 수정
docs: README에 환경변수 설정 방법 추가
```

### 2. 모호한 메시지
```
# ❌ 나쁜 예
fix: 버그 수정
chore: 업데이트
style: 수정

# ✅ 좋은 예
fix: 상품 검색 시 한글 입력 오류 수정
chore: React 18.2.0으로 업데이트
style: 주문 목록 테이블 정렬 개선
```

### 3. 커밋하지 말아야 할 파일
- 개인 설정 파일 (`.idea/`, `.vscode/` 등)
- 빌드 결과물 (`dist/`, `build/` 등)
- 임시 파일 (`.log`, `.tmp` 등)
- 민감한 정보 (API 키, 비밀번호 등)

## 🛠️ 유용한 Git 명령어

### 마지막 커밋 메시지 수정
```bash
git commit --amend -m "새로운 커밋 메시지"
```

### 여러 커밋 합치기 (squash)
```bash
# 최근 3개 커밋 합치기
git rebase -i HEAD~3
```

### 커밋 메시지 템플릿 설정
```bash
# 템플릿 파일 생성
echo "<타입>: <제목>

# 본문

# 꼬리말" > ~/.gitmessage.txt

# Git에 템플릿 설정
git config --global commit.template ~/.gitmessage.txt
```

## 📚 참고 자료

- [Conventional Commits](https://www.conventionalcommits.org/)
- [Angular Commit Message Guidelines](https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit)
- [How to Write a Git Commit Message](https://chris.beams.io/posts/git-commit/)

---

마지막 업데이트: 2025-06-24